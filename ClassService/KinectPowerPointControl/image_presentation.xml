<?xml version="1.0" encoding="UTF-8" ?>
<grammar version="1.0" xml:lang="en-US" mode="voice" root= "Expression"
xmlns="http://www.w3.org/2001/06/grammar" tag-format="semantics/1.0">

  <rule id="Expression" scope="public">
    <one-of>
      <item>
        <ruleref uri ="#Move" type="application/srgs+xml"/>
        <tag>out.command=rules.latest();</tag>
        <item repeat="0-1">
          <ruleref uri ="#Number" type="application/srgs+xml"/>
          times
          <tag>out.multiplier=rules.Number;</tag>
        </item>
      </item>
      <item>
        <ruleref uri ="#Rotation" type="application/srgs+xml"/>
        <tag>out.command=rules.latest();</tag>
      </item>
      <item>
        <ruleref uri ="#Zoom" type="application/srgs+xml"/>
        <tag>out.command=rules.latest();</tag>
        <item repeat="0-1">
          <ruleref uri ="#Number" type="application/srgs+xml"/>
          times
          <tag>out.multiplier=rules.Number;</tag>
        </item>
      </item>
      <item>
        <ruleref uri ="#Close" type="application/srgs+xml"/>
        <tag>out.command=rules.latest();</tag>
      </item>
    </one-of>
  </rule>

  <rule id="Zoom">
    zoom
    <one-of>
      <item>
        in <tag>out = "zoomin"; </tag>
      </item>
      <item>
        out <tag>out = "zoomout"; </tag>
      </item>
    </one-of>
  </rule>

  <rule id="Close">
    <one-of>
      <item>
        close <tag>out = "closeimage"; </tag>
      </item>
    </one-of>
  </rule>

  <rule id="Rotation">
    rotate
    <one-of>
      <item>
        right <tag>out = "rotateright"; </tag>
      </item>
      <item>
        left <tag>out = "rotateleft"; </tag>
      </item>
    </one-of>
  </rule>

  <rule id="Move">
    move
    <one-of>
      <item>
        right <tag>out = "moveright"; </tag>
      </item>
      <item>
        left <tag>out = "moveleft"; </tag>
      </item>
      <item>
        up <tag>out = "moveup"; </tag>
      </item>
      <item>
        down <tag>out = "movedown"; </tag>
      </item>
    </one-of>
  </rule>

  <rule id="Number">
    <tag>out=1;</tag> <!-- 1 is default if nothing said -->
    <one-of>
      <item>
        two <tag>out = 2; </tag>
      </item>
      <item>
        three <tag>out = 3; </tag>
      </item>
      <item>
        four <tag>out = 4; </tag>
      </item>
      <item>
        five <tag>out = 5; </tag>
      </item>
      <item>
        six <tag>out = 6; </tag>
      </item>
      <item>
        seven <tag>out = 7; </tag>
      </item>
      <item>
        eight <tag>out = 8; </tag>
      </item>
      <item>
        nine <tag>out = 9; </tag>
      </item>
      <item>
        ten <tag>out = 10; </tag>
      </item>
      <item>
        eleven <tag>out = 11; </tag>
      </item>
      <item>
        twelve <tag>out = 12; </tag>
      </item>
      <item>
        thirteen <tag>out = 13; </tag>
      </item>
      <item>
        fourteen <tag>out = 14; </tag>
      </item>
      <item>
        fifteen <tag>out = 15; </tag>
      </item>
      <item>
        sixteen <tag>out = 16; </tag>
      </item>
      <item>
        seventeen <tag>out = 17; </tag>
      </item>
      <item>
        eighteen <tag>out = 18; </tag>
      </item>
      <item>
        nineteen <tag>out = 19; </tag>
      </item>
      <item>
        twenty <tag>out = 20; </tag>
      </item>
    </one-of>
  </rule>
</grammar>